// bill-service 모듈  
// 루트 build.gradle의 subprojects 블록에서 공통 설정 적용됨

dependencies {
    // Database (bill service specific)
    runtimeOnly 'org.postgresql:postgresql'
    implementation 'com.zaxxer:HikariCP:5.0.1'
    
    // Redis (bill service specific)
    implementation 'redis.clients:jedis:4.4.6'
    
    // Circuit Breaker & Resilience
    implementation 'io.github.resilience4j:resilience4j-spring-boot3:2.1.0'
    implementation 'io.github.resilience4j:resilience4j-circuitbreaker:2.1.0'
    implementation 'io.github.resilience4j:resilience4j-retry:2.1.0'
    implementation 'io.github.resilience4j:resilience4j-timelimiter:2.1.0'
    
    // Logging (bill service specific)
    implementation 'org.slf4j:slf4j-api'
    implementation 'ch.qos.logback:logback-classic'

    // Actuator for health checks and monitoring
    implementation 'org.springframework.boot:spring-boot-starter-actuator'
    
    // HTTP Client
    implementation 'org.springframework.boot:spring-boot-starter-webflux'
    
    // Common modules (로컬 의존성)
    implementation project(':common')
    implementation project(':kos-mock')
    
    // Test Dependencies (bill service specific)
    testImplementation 'org.testcontainers:postgresql'
    testImplementation 'it.ozimov:embedded-redis:0.7.3'
    testImplementation 'com.github.tomakehurst:wiremock-jre8:2.35.0'
}

bootJar {
    archiveFileName = 'bill-service.jar'
    enabled = true
}